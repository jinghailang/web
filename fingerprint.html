<html>
<head>
  <title>FingerprintJS</title>
  <script src="fp.js"></script>
</head>
<body>
  <center>
    <h3 style="margin-top: 60px">Your browser fingerprint is:</h3>
    <h1 id="fp"></h1>
  </center>
  <script>
    (function initFingerprintJS() {
    // Initialize an agent at application startup.
//     const fpPromise = FingerprintJS.load()
    
      //只用canvas因素计算
//     const fingerprint = FingerprintJS.hashComponents(FingerprintJS.sources.canvas())
//     document.getElementById('fp').innerHTML = fingerprint
      
      //需要排除的因素
// contrast
// cookiesEnabled
// domBlockers
// forcedColors
// hdr
// indexedDB
// invertedColors
// languages
// localStorage
// monochrome
// openDatabase
// plugins
// reducedMotion
// sessionStorage
// touchSupport
// vendor
// vendorFlavors

//使用的因素
// audio
// canvas
// fonts
// fontPreferences
// math
// timezone
// colorDepth
// colorGamut
// cpuClass
// deviceMemory
// hardwareConcurrency
// osCpu
// platform
// screenFrame
// screenResolution
      const excludeSources = ["contrast","cookiesEnabled","domBlockers","forcedColors","hdr","indexedDB","invertedColors","languages","localStorage","monochrome","openDatabase","plugins","reducedMotion","sessionStorage","touchSupport","vendor","vendorFlavors","math"];
      const pp = FingerprintJS.loadSources(FingerprintJS.sources,{debug:false},excludeSources)();
      pp.then(fp=>{
        const fingerprint = FingerprintJS.hashComponents(fp);
        document.getElementById('fp').innerHTML = fingerprint;
      });

    // Get the visitor identifier when you need it.
//     fpPromise
//       .then(fp => {
//       console.log(fp)
//       fp.get()
//     }).then(result => {
//         // This is the visitor identifier:
//         const visitorId = result.visitorId
//         console.log(visitorId)
//         document.getElementById('fp').innerHTML = visitorId
//       })
      
//       document.getElementById('fp').innerHTML = FingerprintJS.sources.canvas()
  })()
  </script>
</body>
</html>
